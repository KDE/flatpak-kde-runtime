{
    "build-runtime": true,
    "id": "org.kde.Sdk",
    "id-platform": "org.kde.Platform",
    "branch": "6.5",
    "runtime": "org.freedesktop.Platform",
    "sdk": "org.freedesktop.Sdk",
    "runtime-version": "22.08",
    "sdk-extensions": ["org.freedesktop.Sdk.Debug", "org.freedesktop.Sdk.Locale", "org.freedesktop.Sdk.Docs"],
    "platform-extensions": ["org.freedesktop.Platform.Locale"],
    "inherit-extensions": [
        "org.freedesktop.Platform.GL",
        "org.freedesktop.Platform.Timezones",
        "org.freedesktop.Platform.GStreamer",
        "org.freedesktop.Platform.Icontheme",
        "org.freedesktop.Platform.VAAPI.Intel",
        "org.freedesktop.Platform.openh264",
        "org.freedesktop.Platform.VulkanLayer",
        "org.gtk.Gtk3theme"
    ],
    "inherit-sdk-extensions": [
        "org.freedesktop.Sdk.Extension"
    ],
    "add-extensions": {
        "org.kde.Sdk.Docs" : {
            "directory": "share/runtime/docs",
            "bundle": true,
            "autodelete": true,
            "no-autodownload": true
        },
        "org.kde.KStyle" : {
            "directory": "share/runtime/lib/plugins/",
            "subdirectories": true,
            "no-autodownload": true,
            "version": "6.5",
            "merge-dirs": "styles",
            "add-ld-path": "lib",
            "download-if": "active-gtk-theme"
        },
        "org.kde.PlatformTheme" : {
            "directory": "share/runtime/lib/plugins/",
            "subdirectories": true,
            "no-autodownload": true,
            "version": "6.5",
            "merge-dirs": "platformthemes",
            "add-ld-path": "lib",
            "//TODO": "This is currently only used for gnome platform plugin and should be its own extension point",
            "download-if": "on-xdg-desktop-GNOME;on-xdg-desktop-GNOME-classic"
        },
        "org.kde.PlatformInputContexts" : {
            "directory": "share/runtime/lib/plugins/",
            "subdirectories": true,
            "autodelete": true,
            "no-autodownload": true,
            "version": "6.5",
            "merge-dirs": "platforminputcontexts",
            "add-ld-path": "lib"
        },
        "org.kde.WaylandDecoration" : {
            "directory": "share/runtime/lib/plugins/",
            "subdirectories": true,
            "no-autodownload": true,
            "version": "6.5",
            "merge-dirs": "wayland-decoration-client",
            "add-ld-path": "lib",
            "//TODO": "This is currently only used for gnome platform plugin and should be its own extension point",
            "download-if": "on-xdg-desktop-GNOME;on-xdg-desktop-GNOME-classic"
        }
    },
    "finish-args": [
        "--env=GI_TYPELIB_PATH=/app/lib/girepository-1.0",
        "--env=GST_PLUGIN_PATH=/app/lib/gstreamer-1.0:/usr/lib/extensions/gstreamer-1.0:/usr/lib/@@SDK_ARCH@@-linux-gnu/gstreamer-1.0",
        "--env=XDG_DATA_DIRS=/app/share:/usr/share:/usr/share/runtime/share:/run/host/user-share:/run/host/share",
        "--env=__EGL_EXTERNAL_PLATFORM_CONFIG_DIRS=/etc/egl/egl_external_platform.d:/usr/lib/@@SDK_ARCH@@-linux-gnu/GL/egl/egl_external_platform.d:/usr/share/egl/egl_external_platform.d",
        "--env=QT_PLUGIN_PATH=/app/lib64/plugins:/app/lib/plugins:/usr/share/runtime/lib/plugins",
        "--env=QML2_IMPORT_PATH=/app/lib64/qml:/app/lib/qml",
        "--env=KDE_FORK_SLAVES=1",
        "--filesystem=xdg-config/kdeglobals:ro",
        "--talk-name=com.canonical.AppMenu.Registrar",
        "--sdk=org.kde.Sdk//6.5",
        "--runtime=org.kde.Platform//6.5"
    ],
    "cleanup": [ "/man",
                 "/share/man",
                 "/lib/systemd",
                 "*.la"],
    "cleanup-commands": [ "/usr/libexec/freedesktop-post.sh",
                          "mkdir -p /usr/lib/debug/usr/lib/i386-linux-gnu" ],
    "cleanup-platform": [ "/share/runtime/docs",
                          "/include",
                          "/share/aclocal",
                          "/share/pkgconfig",
                          "/lib/pkgconfig",
                          "/lib/*/pkgconfig",
                          "*.a",
                          "*.cmake",
                          "/lib/*/cmake",
                          "/mkspecs",
                          "/lib/mkspecs",
                          "*.prl"
                        ],
    "cleanup-platform-commands": [ "/usr/libexec/freedesktop-post.sh" ],
    "modules": [
        {
            "name": "qt6-qtbase",
            "cleanup-platform": [ "/bin" ],
            "build-options" : {
                "arch" : {
                    "x86_64" : {
                        "config-opts" : [
                            "-DINSTALL_LIBDIR=/usr/lib/x86_64-linux-gnu"
                        ]
                    },
                    "aarch64" : {
                        "config-opts" : [
                            "-DINSTALL_LIBDIR=/usr/lib/aarch64-linux-gnu"
                        ]
                    }
                }
            },
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DQT_DISABLE_RPATH=ON",
                "-DBUILD_WITH_PCH=FALSE",
                "-DQT_FEATURE_openssl_linked=ON", "-DQT_FEATURE_system_sqlite=ON"
            ],
            "sources": [
                { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtbase-everywhere-src-6.5.2.tar.xz", "sha256": "3db4c729b4d80a9d8fda8dd77128406353baff4755ca619177eda4cddae71269", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtbase-everywhere-src-$version.tar.xz" } },
                { "type": "patch", "path": "patch/qtbase-find_package-paths.patch" },
                { "type": "patch", "path": "patch/qtbase-use-qgnomeplatform-as-default-platform-theme-on-gnome.patch" }
            ]
        },
        {
            "name": "qt6-qttools",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [
                "/bin/assistant", "/bin/qhelpgenerator", "/bin/qcollectiongenerator", "/bin/qhelpconverter", "/bin/pixeltool", "/bin/designer",
                "/bin/lrelease", "/bin/lupdate", "/bin/lconvert", "/bin/linguist", "/bin/qdoc", "/bin/qtattributionsscanner",
                "/bin/qtplugininfo", "/bin/qtdiag", "/bin/qdbusviewer"
            ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qttools-everywhere-src-6.5.2.tar.xz", "sha256": "551ffb22751d8fd4d88e9ebd55b9131f4ca55341ee497fdbbba4da8d10d94341", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qttools-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-shadertools",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin", "lib/plugins/qmltooling" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtshadertools-everywhere-src-6.5.2.tar.xz", "sha256": "ca3fb0db8576c59b9c38bb4b271cc6e10aebeb54e2121f429f4ee80671fc0a3d", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtshadertools-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtlanguageserver",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtlanguageserver-everywhere-src-6.5.2.tar.xz", "sha256": "73b5ec0caa830708c016951a6e27f308f78e95d13810c56ef342317c398bd1a4", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtlanguageserver-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtdeclarative",
            "config-opts": ["-DQT_TOOL_COMMAND_WRAPPER_PATH=env"],
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin", "lib/plugins/qmltooling" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtdeclarative-everywhere-src-6.5.2.tar.xz", "sha256": "f3a11fe54e9fac77c649e46e39f1cbe161e9efe89bad205115ba2861b1eb8719", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtdeclarative-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-webchannel",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtwebchannel-everywhere-src-6.5.2.tar.xz", "sha256": "c188d9fa6e535b850b574fa9e47c6089555b8df1fe041dcb13aeeca336b78e63", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtwebchannel-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtpositioning",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtpositioning-everywhere-src-6.5.2.tar.xz", "sha256": "70493f03748d1c5b1577e4c011c0af9bcaffcdc6c5e519362605b01f917614fa", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtpositioning-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtsvg",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtsvg-everywhere-src-6.5.2.tar.xz", "sha256": "48b4cc1093af2e0ab3bea30f60651bddd877a2335d16e7207879a2e9e81963a3", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtsvg-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtspeech",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtspeech-everywhere-src-6.5.2.tar.xz", "sha256": "88ff9c2876f4a76632bfee7f58c3277aab9ff49e24d628e4a19f6b0e7a62d4b2", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtspeech-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtmultimedia",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtmultimedia-everywhere-src-6.5.2.tar.xz", "sha256": "948f00aa679e92839a2a71bd07245a92cc849af486607417ee4c334b2b998975", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtmultimedia-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtsensors",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtsensors-everywhere-src-6.5.2.tar.xz", "sha256": "4006bd7cfbb4302a887bda82b7fe3c31633626363a5e6ba9730bdb4fa8ab2aa6", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtsensors-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtimageformats",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtimageformats-everywhere-src-6.5.2.tar.xz", "sha256": "aae0c08924c6a5e47f9d57e031673d611ffff7aab2bee2e1cc460471ecac6743", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtimageformats-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-connectivity",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtconnectivity-everywhere-src-6.5.2.tar.xz", "sha256": "db2e4922352d253cafbb8f21eeca58da269c19e0e6d614420af19a7cd35fdc99", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtconnectivity-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-wayland",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtwayland-everywhere-src-6.5.2.tar.xz", "sha256": "3020be86fb7fd0abb8509906ca6583cadcaee168159abceaeb5b3e9d42563c9a", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtwayland-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtserialport",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtserialport-everywhere-src-6.5.2.tar.xz", "sha256": "063c54169aea6b303183b434637ad050e9f67d7f22bb3eff1ede1905eb2ccc9e", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtserialport-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtwebsockets",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtwebsockets-everywhere-src-6.5.2.tar.xz", "sha256": "204bd7b0dffb54c934abc6cf0eb5e3016f11b3c9721a67b4875a6b21bb8b5c76", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtwebsockets-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtscxml",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtscxml-everywhere-src-6.5.2.tar.xz", "sha256": "a830f2ec750913a70f854e487b1b44d1ec3a48eb21253f414a1990f8cf4dbdcb", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtscxml-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtcharts",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtcharts-everywhere-src-6.5.2.tar.xz", "sha256": "775af7be019cca698b27e5acffbc2def8f7a5b8f06f5c6db2a7015d578a6ad2d", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtcharts-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qt3d",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qt3d-everywhere-src-6.5.2.tar.xz", "sha256": "21f064db21ad1bfc5547fd4e8cba09acc8c187de58d7eee206f6549ab9e2f910", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qt3d-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtnetworkauth",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtnetworkauth-everywhere-src-6.5.2.tar.xz", "sha256": "4ecc4b560ac24c29086550972d634a4e1a1a58936b6186a24dd131f8079c283c", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtnetworkauth-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qttranslations",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qttranslations-everywhere-src-6.5.2.tar.xz", "sha256": "337c45637e757e754c2f0ea65c20de3e6e53a841dda1253db15baa622515beeb", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qttranslations-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qtremoteobjects",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qtremoteobjects-everywhere-src-6.5.2.tar.xz", "sha256": "c0f41f1f79eff28303ecd68dc064a4d8f92b35f3ddc06d78909b142bc0d4494c", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qtremoteobjects-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "qt6-qt5compat",
            "buildsystem": "cmake-ninja",
            "cleanup-platform": [ "/bin" ],
            "sources": [ { "type": "archive", "url": "https://download.qt.io/official_releases/qt/6.5/6.5.2/submodules/qt5compat-everywhere-src-6.5.2.tar.xz", "sha256": "b9abe42ee2055c27a8e7579c7816069e91aae1f9b10649bf572db8ba96fa91c4", "x-checker-data": { "type": "anitya", "project-id": 7927, "stable-only": true, "url-template": "https://download.qt.io/official_releases/qt/6.5/$version/submodules/qt5compat-everywhere-src-$version.tar.xz" } } ]
        },
        {
            "name": "extra-cmake-modules",
            "cleanup-platform": ["*"],
            "buildsystem": "cmake-ninja",
            "config-opts": [ "-DBUILD_TESTING=OFF" ],
            "sources": [ { "type": "git", "url": "https://invent.kde.org/frameworks/extra-cmake-modules.git", "tag": "v5.108.0", "commit": "9ac12ad66717acc46713f1e7e777c93a9085d439", "x-checker-data": { "type": "git", "tag-pattern": "^v([\\d.]+)$" } } ]
        },
        {
            "name": "fcitx5-platforminputcontext",
            "buildsystem": "cmake-ninja",
            "config-opts": [ "-DENABLE_QT4=OFF", "-DENABLE_QT5=OFF", "-DENABLE_QT6=ON", "-DBUILD_ONLY_PLUGIN=ON" ],
            "sources": [ { "type": "git", "url": "https://github.com/fcitx/fcitx5-qt", "tag": "5.0.17", "commit": "47bd8f2e3e8bdd062683be438dc9a026930b172f", "x-checker-data": { "type": "git", "tag-pattern": "^([\\d.]+)$" } } ]
        },
        {
            "name": "os-release",
            "post-install": [
                "mkdir -p /usr/share/runtime/lib/plugins/"
            ],
            "sources": [
                {
                    "type": "file",
                    "path": "os-release"
                },
                {
                    "type": "file",
                    "path": "issue"
                },
                {
                    "type": "file",
                    "path": "issue.net"
                },
                {
                    "type": "file",
                    "path": "org.kde.Sdk.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "org.kde.Platform.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "os-release-Makefile",
                    "dest-filename": "Makefile"
                },
                {
                    "type": "script",
                    "commands": [],
                    "dest-filename": "configure"
                }
            ]
        }
    ]
}
